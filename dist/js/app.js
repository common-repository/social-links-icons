/**
 * Wordpress plugin : Social Links Icons v1.0.0
 * Copyright 2019 Dimitri BOUTEILLE
 * Licensed under GPL-2.0+
 */
document.addEventListener("DOMContentLoaded",function(e){let t=document.querySelectorAll(".sn-preview-btn");for(let e=0;e<t.length;e++)t[e].addEventListener("mouseenter",function(){let e=document.getElementById(this.getAttribute("data-js-svg"));if(e){let t=e.value;if(t.length){let e=document.createElement("div");e.classList.add("sn-preview-content"),e.innerHTML=t,this.parentNode.insertBefore(e,this.nextSibling)}}}),t[e].addEventListener("mouseleave",function(){let e=this.parentNode.querySelector(".sn-preview-content");e&&e.remove()});let s=document.querySelectorAll(".sn-tab-menu-btn");for(let e=0;e<s.length;e++)s[e].addEventListener("click",function(){let e=document.getElementById(this.getAttribute("data-js-network")),t=document.querySelector(".sn-tabs-body-network.is-visible"),s=document.querySelector(".sn-tab-menu-btn.is-active");e&&!e.classList.contains("is-visible")&&(t&&(console.log(t),t.classList.remove("is-visible")),s&&s.classList.remove("is-active"),e.classList.add("is-visible"),this.classList.add("is-active"),window.history.pushState(null,window.title,this.getAttribute("data-href")))});let n=document.querySelectorAll(".sn-form");for(let e=0;e<n.length;e++)n[e].addEventListener("submit",function(e){e.preventDefault();let t=this.querySelector("button[type=submit]"),s=this,n=new XMLHttpRequest,i=this.querySelector(this.getAttribute("data-js-icon-progress"));function r(){s.querySelectorAll(".sli-form-error").forEach(e=>{e.remove()})}i&&i.classList.add("is-visible"),t.disabled=!0,n.open("POST",s.getAttribute("action")),n.send(new FormData(s)),n.onreadystatechange=function(e){switch(this.readyState){case XMLHttpRequest.DONE:const e=JSON.parse(this.responseText);if(e.success){let t=s.querySelector(s.getAttribute("data-js-icon-valid")),n=document.getElementById(s.getAttribute("data-tab"));t&&(r(),t.classList.add("is-visible"),setTimeout(function(){t.classList.remove("is-visible")},4e3)),n&&e.hasOwnProperty("data")&&(e.data.hasUrl?n.classList.add("has-link"):n.classList.remove("has-link"))}else if(r(),e.data.hasOwnProperty("errors")){const t=e.data.errors;Object.keys(t).forEach(e=>{let n=s.querySelector(`[name=${e}]`);if(n){let s=n.parentNode.parentNode;if(s.querySelector(".sli-form-error"))n.innerHtml=t[e];else{let n=document.createElement("p");n.classList.add("sli-form-error"),n.innerHTML=t[e],s.append(n)}}})}else e.data.hasOwnProperty("msg")&&alert(e.data.msg);break;case XMLHttpRequest.LOADING:i.classList.remove("is-visible"),t.disabled=!1}}});let i=document.querySelectorAll("input.color-type");for(let e=0;e<i.length;e++)i[e].oninput=function(){let e=this.value,t=document.getElementById(this.getAttribute("data-js-preview"));t&&(4===e.length||7===e.length?t.style.background=e:0===e.length&&(t.style.background=null))}});